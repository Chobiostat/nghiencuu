<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Y tế Công cộng - Học R - [1] Giới thiệu, các khái niệm cơ bản</title>
  <link rel="shortcut icon" href="/assets/images/favicon.ico">
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="alternate" type="application/rss+xml" title="Y tế Công cộng" href="/feed.xml">
  <link rel="stylesheet" href="/assets/css/highlight.css">
  <!-- Begin Jekyll SEO tag v2.0.0 -->
<title>Học R - [1] Giới thiệu, các khái niệm cơ bản - Y tế Công cộng</title>
<meta property="og:title" content="Học R - [1] Giới thiệu, các khái niệm cơ bản" />
<meta name="description" content="" />
<meta property="og:description" content="" />
<link rel="canonical" href="http://www.ytecongcong.com//2014/08/hoc-r-1-gioi-thieu-cac-khai-niem-co-ban/" />
<meta property="og:url" content="http://www.ytecongcong.com//2014/08/hoc-r-1-gioi-thieu-cac-khai-niem-co-ban/" />
<meta property="og:site_name" content="Y tế Công cộng" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2014-08-14T09:29:33+02:00" />
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Học R - [1] Giới thiệu, các khái niệm cơ bản",
    "datePublished": "2014-08-14T09:29:33+02:00",
    "description": "",
    "url": "http://www.ytecongcong.com//2014/08/hoc-r-1-gioi-thieu-cac-khai-niem-co-ban/"
  }
</script>
<!-- End Jekyll SEO tag -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-2468850238077688",
      enable_page_level_ads: true
    });
  </script>
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    TeX: {
      equationNumbers: {
        autoNumber: "AMS"
      }
    },
    tex2jax: {
      inlineMath: [ ['$','$'] ],
      displayMath: [ ['$$','$$'] ],
      processEscapes: true,
    }
  });
</script>
<script type="text/javascript"
        src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

</head>
<body>

  <nav class="main-nav">
    
        <a href="/"> <span class="arrow">←</span>&#x2302; </a>
    

    <!--  -->
        <a href="http://stats.ytecongcong.com">? </a>
    <!--  -->
    <!-- 
        <a href="/about">? </a>
     -->
    
        <a href="/search">&#128270; </a>
    
    
        <a href="/glossary">&#x2608; </a>
    
    
        <a href="/archive">&#9776; </a>
    
    <a href="/feed.xml">&#9829;</a>
    <!-- <a class="cta" href="/feed.xml">&#9829;</a> -->
</nav>


  

  <section id="wrapper" class="">
    <article class="post">
    <header>
        <h1>Học R - [1] Giới thiệu, các khái niệm cơ bản</h1>
        <h2 class="headline">August 14, 2014</h2>
    </header>
    <section id="post-body">
      <p><img src="http://www.statisticsviews.com/stats/images/logo.gif" alt="" /></p>

<blockquote>
  <p>Học R nên học theo dạng một ngôn ngữ lập trình, không nên học theo kiểu một phần mềm thống kê vì (1) sẽ phải làm quen với cả hai lĩnh vực khó hiểu cùng một lúc: lập trình và thống kê (2) khi nắm cách lập trình trong R, bạn sẽ thấy áp dụng các gói thống kê có sẵn chỉ là chuyện nhỏ.</p>
</blockquote>

<p>Để theo dõi loạt bài này, các bạn đọc, làm…tạm gọi là bài tập về nhà (vì chắc bạn cũng đang ở nhà rồi), không hiểu thì gửi bình luận ở cuối bài và nếu bạn biết thì trả lời cho người tham gia. Với các câu hỏi chuyên biệt, nâng cao nên đặt câu hỏi ở http://stats.ytecongcong.com. Cũng vì mục đích học R như một ngôn ngữ, loạt bài này <strong>sẽ tránh tối đa sử dụng các gói thư viện viết sẵn</strong>.</p>

<blockquote>
  <p><strong>Mục tiêu</strong>: để lấy động lực, mục tiêu là sau khi hoàn tất, bạn có thể tự viết một gói thư viện nho nhỏ cho R.</p>
</blockquote>

<h2 id="r-c-l-g">R đọc là gì?</h2>

<p>Trong suy diễn Bayes, có một chỉ số đánh giá mô hình là quan trọng là DIC, đọc là “Đi Ai Xi”<sup id="fnref-2809-1"><a href="#fn-2809-1">1</a></sup>, không nên đọc tắt như kiểu “Hu” trong WHO!. Tương tự, R nên gọi theo tiếng Anh là “A”.</p>

<h2 id="sao-li-r">Sao lại R?</h2>

<p>Nhiều người quen thuộc với các phần mềm như SPSS (SS viết tắt của Social Science như đinh hướng của phần mềm), STATA, SAS và mới hơn có là các gói viết với ngôn ngữ Python. Dưới đây là đánh giá nhanh:</p>

<ul>
  <li>SAS:
    <ul>
      <li>mạnh nhất cả về tốc độ và chức năng, chính thống nhất về phương pháp thống kê</li>
      <li>nặng nhất về dung lượng và mắc nhất về bản quyền, ngôn ngữ không theo logic (không viết theo suy nghĩ được).</li>
    </ul>
  </li>
</ul>

<pre><code class="language-sas">V.d. tính trung bình với SAS
proc means data=data;
   var x;
run;
</code></pre>

<ul>
  <li>STATA:
    <ul>
      <li>trực quan, nhẹ hơn về dung lượng, và rẻ hơn về bản quyền so với SAS, cấu trúc dòng lệnh đơn giản hơn SAS.</li>
    </ul>
  </li>
</ul>

<pre><code class="language-stata">mean x
</code></pre>

<ul>
  <li>R: miễn phí, cập nhật, ngôn ngữ logic (theo tiếng Anh), vô địch trong khả năng vẽ biểu đồ. Khả năng tích hợp của R giúp phần mềm có thể dễ dàng chạy trên các server, đặc biệt là Linux - điều mà các phần mềm khác không thể. Google, Facebook, Twitter là v.d. về các công ty đang sử dụng R. R cũng dễ dàng kết nối với phần mềm khác như WinBUGS, JAGS,… và cộng đồng sử dụng R rất tích cực nên học dễ hơn.</li>
</ul>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">mean</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<h2 id="cc-khi-nim-ban-u">Các khái niệm ban đầu</h2>

<blockquote>
  <p>Tất cả các khái niệm sẽ không dịch mà sử dụng như tên gọi, để dễ làm quen với R.</p>
</blockquote>

<h3 id="ci-r">Cài R</h3>

<p>Mở trang http://www.r-project.org/ và tải tùy theo hệ điều hành. Chạy R và bắt đầu làm quen.</p>

<h3 id="ngn-ng-n-gin">Ngôn ngữ đơn giản</h3>

<p>Khi mở R, dấu nhắc <code class="highlighter-rouge">&gt;</code> cho biết R đang sẵn sàng để bạn gõ lệnh, các toán tử cơ bản cộng trừ nhân chia <code class="highlighter-rouge">+, -, *, /</code>. Dấu mũ, v.d. <code class="highlighter-rouge">2^3</code>.
Bạn có thể gõ lệnh trên một hàng như</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="m">2+2</span><span class="w">
</span><span class="m">4</span><span class="w">
</span></code></pre>
</div>

<p>hoặc trên nhiều hàng</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="m">2+2+2</span><span class="o">/</span><span class="m">3</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">4.666667</span><span class="w">
</span></code></pre>
</div>

<p>Và dấu</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="c1"># là dấu để chú thích và lệnh này sẽ không chạy
</span></code></pre>
</div>

<h3 id="working-directory-wd">Working directory (wd)</h3>

<p>Là <em>folder đang làm việc</em>, folder này sẽ chứa mọi kết quả của lệnh R, v.d. lưu một biểu đồ, một file và cũng là nơi R sẽ tìm để đọc file như dữ kiện, câu lệnh….</p>

<p>Xem mình đang làm ở đâu, gõ</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">getwd</span><span class="p">()</span><span class="w"> </span><span class="c1"># get working direcrory
</span></code></pre>
</div>

<p>Khi phân tích, nên nói cho R biết bạn muốn làm việc ở đâu để mọi kết quả đều nằm trong folder mình muốn và R cũng sẽ hiểu phải tìm, v.d. như dữ kiện phân tích ở đâu, gõ</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">setwd</span><span class="p">(</span><span class="s2">"path/to/selected/folder"</span><span class="p">)</span><span class="w"> </span><span class="c1"># Lưu ý đường dẫn trong ngoặc kép sẽ khác nhau tùy theo hệ điều hành.
</span></code></pre>
</div>

<h3 id="workspace">Workspace</h3>

<p><em>Không gian làm việc</em> là nơi chứa toàn bộ mọi thứ … bạn đang làm việc. Tưởng tượng như phòng làm việc của bạn, sẽ có những vật (object) có kích cỡ, đặc tính khác nhau được đặt khắp nơi trong phòng, khi cần chỉ cần thò tay ra lấy.</p>

<p>Thường sẽ phải phân tích nhiều ngày trên một dữ kiện, để tránh việc chạy đi chạy lại những gì đã làm R cung cấp khả năng lưu <em>không gian</em> này lại với lệnh</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">save.image</span><span class="p">(</span><span class="s2">"Ten.RData"</span><span class="p">)</span><span class="w"> </span><span class="c1"># Khi đúng đuôi file .RData
</span></code></pre>
</div>

<p>và khi mở R lên lại tải vào với</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">load</span><span class="p">(</span><span class="s2">"Ten.RData"</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p>Lưu ý: <strong>File .RData phải nằm trong working directory để tải với lệnh trên.</strong></p>

<h3 id="object">Object</h3>

<p>Các <em>vật</em> này nằm trong <em>không gian</em> vừa nói ở trên, và để lấy sử dụng ta dùng các câu lệnh gọi tên tương ứng. <strong>Một object</strong> có thể là một số, một dãy số, một bảng dữ kiện, một chữ cái,….</p>

<p>Để xem bạn đang có gì trong <em>phòng</em>, gõ</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">ls</span><span class="p">()</span><span class="w"> </span><span class="c1"># list, () để trống cho R biết bạn muốn liệt kê mọi loại object
</span></code></pre>
</div>

<p>Để xóa <code class="highlighter-rouge">x</code> khỏi <em>phòng</em> gõ</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">rm</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="c1"># remove
</span></code></pre>
</div>

<h3 id="gn-to-object">Gán, tạo object</h3>

<p>Trong R, có thể sử dụng dầu <code class="highlighter-rouge">=</code> hoặc <code class="highlighter-rouge">&lt;-</code> để gán giá trị cho một đối tượng. Tuy nhiên để dễ đọc cũng như để code rõ ràng, nên sử dụng <code class="highlighter-rouge">&lt;-</code> khi gán, tạo object và cũng theo cộng đồng bạn nên để khoảng trắng ở cả 2 bên của các dấu này.</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="c1"># gán giá trị 1 cho object a
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="c1"># Xem a
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">1</span><span class="w">
</span><span class="n">b</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"a"</span><span class="w"> </span><span class="c1"># gán giá trị là chữ cái a cho object b
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="c1"># xem b
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"a"</span><span class="w">
</span></code></pre>
</div>

<h3 id="script">Script</h3>

<p>Tất cả các lệnh có thể gõ và chạy trực tiếp, nhưng nên được lưu trong một file riêng để thuận tiện chỉnh sửa và sử dụng. Trong R, bạn có thể viết code trong nhiều trình biên tập khác nhau và gửi lệnh sang R để chạy như Sublime Text, Notepad++, RStudio, Gedit….</p>

<h3 id="help">Help</h3>

<p>Để đọc hướng dẫn sử dụng một lệnh trong R, gõ <code class="highlighter-rouge">?lenh</code> và enter để xem.</p>

<p><strong>Học R - [2] Các loại Object, Quản lý dữ kiện</strong></p>

<h1 id="bi-tp">Bài tập</h1>

<p>Tìm và cài RStudio, và thực hiện các yêu cầu sau
1. Tạo mới một file script tên <code class="highlighter-rouge">hocR.R</code>, lưu vào folder <code class="highlighter-rouge">hocR</code>, viết lệnh đặt working directory tới folder <code class="highlighter-rouge">hocR</code> vào file.
2. Đọc file help của các lệnh <code class="highlighter-rouge">c</code>, <code class="highlighter-rouge">seq</code>, <code class="highlighter-rouge">rep</code>. Dùng các lệnh này tạo <code class="highlighter-rouge">a</code> là dãy số từ 1 đến 25, <code class="highlighter-rouge">b</code> là dãy số 1 lập lại 25 lần, c là dãy số như <code class="highlighter-rouge">a</code> nhưng trong đó mỗi số lập lại 5 lần, cụ thể <code class="highlighter-rouge">c</code> là 1,1,1,1,1,2,2,2,2,2,…,25,25,25,25,25.
3. Dùng lệnh liệt kê chỉ riêng object <code class="highlighter-rouge">a</code></p>

<p>Bài giải sẽ cung cấp ở cuối bài tiếp theo.</p>

<hr />

<ol>
  <li>Chuyện kể của giáo sư Lesaffre, tác giả Bayesian Biostatistics <a href="#fnref-2809-1">↩</a></li>
</ol>

    </section>
      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- bottompost -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2468850238077688"
     data-ad-slot="3417412256"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

      <style>
.askbutton {
  display: inline-block;
  border-radius: 4px;
  background-color: #F25056;
  border: none;
  color: #FFFFFF;
  /*text-align: center;*/
  font-size: 24px;
  padding: 6px;
  width: 80%;
  transition: all 0.5s;
  cursor: pointer;
  margin-left: auto;
  margin-right: auto;
}

.askbutton span {
  cursor: pointer;
  display: inline-block;
  position: relative;
  transition: 0.5s;
}

.askbutton span:after {
  content: '»';
  position: absolute;
  opacity: 0;
  top: 0;
  right: -20px;
  transition: 0.5s;
}

.askbutton:hover span {
  padding-right: 25px;
}

.askbutton:hover span:after {
  opacity: 1;
  right: 0;
}
</style>
<div style="display: block;
    text-align: center; margin-top: 10px; ">
<form method="post" action="http://stats.ytecongcong.com/ask">
<button type="submit" class="askbutton" style="vertical-align:middle"><span>Đặt câu hỏi </span></button>
<input type="hidden" name="doask1" value="1"></form>
</div>

</article>

<div class="PageNavigation">
  
    <a class="prev" href="/2014/06/dao-duc-trong-thong-ke/">&laquo; Đạo đức trong thống kê</a>
  
  
    <a class="next" href="/2014/08/hoc-r-1-giai-bai-tap-va-cac-van-de-lien-quan/">Học R - [1] Giải bài tập và các vấn đề liên quan &raquo;</a>
  
</div>

<footer id="post-meta" class="clearfix">
    <a href="/">
        <img class="avatar" src="/assets/images/avatar.png">
        <div>
            <span class="dark">Y tế Công cộng</span>
            <span>Gieo sức khỏe - Gặt niềm tin</span>
        </div>
    </a>

    <section id="sharing">
        <a class="twitter" href="https://twitter.com/intent/tweet?text=www.ytecongcong.com/2014/08/hoc-r-1-gioi-thieu-cac-khai-niem-co-ban/ - Học R - [1] Giới thiệu, các khái niệm cơ bản by @"><span class="icon-twitter"> Tweet</span></a>

<a class="facebook" href="#" onclick="
    window.open(
      'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
      'facebook-share-dialog',
      'width=626,height=436');
    return false;"><span class="icon-facebook-rect"> Share</span>
</a>
    </section>
</footer>

<!-- Disqus comments -->

    <div class="archive readmore">
        <h3>Comments</h3>
        <section class="disqus">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'ytecongcong';
        var disqus_developer = 0; // developer mode is on
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>
    </div>


<h3>Bài liên quan</h3>


  
    
    
  
    
      <div>
        <h5><a href="/2014/06/dao-duc-trong-thong-ke/">Đạo đức trong thống kê</a></h5>
      </div>
      
    
  
    
      <div>
        <h5><a href="/2014/02/dich-te-hoc-doi-dien-voi-nhung-han-che-phan-iv-su-cuu-roi-tu-thong-ke/">Dịch tễ học đối diện với những hạn chế [Phần IV]: Sự cứu rỗi từ thống kê?</a></h5>
      </div>
      
    
  
    
      <div>
        <h5><a href="/2013/09/tat-ca-mo-hinh-la-sai/">Tất cả mô hình là sai</a></h5>
      </div>
      
    
  
    
      <div>
        <h5><a href="/2013/05/nhom-chung/">Vui: Nhóm chứng</a></h5>
      </div>
      
    
  
    
      <div>
        <h5><a href="/2012/11/vai-tro-cua-thong-ke-trong-y-hoc/">Vai trò của thống kê trong y học</a></h5>
      </div>
      
    
  

  
    
      <div>
        <h5><a href="/2014/08/hoc-r-1-giai-bai-tap-va-cac-van-de-lien-quan/">Học R - [1] Giải bài tập và các vấn đề liên quan</a></h5>
      </div>
      
    
  
    
    
  
    
      <div>
        <h5><a href="/2013/06/su-dung-r-ve-duong-cong-roc-va-chon-nguong-chan-doan/">Sử dụng R vẽ đường cong ROC và chọn ngưỡng chẩn đoán</a></h5>
      </div>
      
    
  

  
    
    
  
    
    
  


  </section>

  <script src="/assets/js/main.js"></script>


  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-83930831-1', 'auto');
    ga('send', 'pageview');
  </script>
</body>
</html>
